#pragma checksum "C:\Users\SDSD\source\repos\ffdcRetailBanking\Pages\Docs\client_credentials.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "24e71b3a714ac42a28b8b6c242632bc36d75c1c3"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(ffdcRetailBanking.Pages.Docs.Pages_Docs_client_credentials), @"mvc.1.0.view", @"/Pages/Docs/client_credentials.cshtml")]
namespace ffdcRetailBanking.Pages.Docs
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\SDSD\source\repos\ffdcRetailBanking\Pages\_ViewImports.cshtml"
using ffdcRetailBanking;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"24e71b3a714ac42a28b8b6c242632bc36d75c1c3", @"/Pages/Docs/client_credentials.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"0549f64394f0cbed2fc994be4d07f85c03006b18", @"/Pages/_ViewImports.cshtml")]
    public class Pages_Docs_client_credentials : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral(@"<h4 class=""code-line"" data-line-start=0 data-line-end=1><a id=""How_it_works_0""></a>How it works</h4>
<p class=""has-line-data"" data-line-start=""1"" data-line-end=""2"">Your client received an access token from the Authorization Server after succesfully authenticated using the HTTP Basic authentication scheme, with the <code>client_id</code> and <code>client_secret</code> of your FusionCreator application.</p>
<p class=""has-line-data"" data-line-start=""3"" data-line-end=""4"">To find out more about the Client Credentials Grant, see RFC6749, <a href=""https://tools.ietf.org/html/rfc6749#section-1.3.4"">section 1.3.4</a> and <a href=""https://tools.ietf.org/html/rfc6749#section-4.4"">section 4.4</a>.</p>
<p class=""has-line-data"" data-line-start=""5"" data-line-end=""6"">This sample is using the  <code>IdentityModel</code> open source library and <code>IdentityModel.AspNetCore</code> specific helper library for token management in <a href=""http://ASP.NET"">ASP.NET</a> Core. For more details, such as the Nuget and GitHub repositor");
            WriteLiteral(@"ies, see the <a href=""https://identitymodel.readthedocs.io/en/latest/#identitymodel"">project documentation</a>.</p>
<hr>
<h4 class=""code-line"" data-line-start=8 data-line-end=9><a id=""Application_configuration_8""></a>Application configuration</h4>
<pre><code>`ClientAuthenticationMethod`: **`client_secret`**.
</code></pre>
<hr>
<h5 class=""code-line"" data-line-start=13 data-line-end=14><a id=""Services_registration_13""></a>Services registration</h5>
<pre><code class=""has-line-data"" data-line-start=""16"" data-line-end=""34"">// Startup.cs
public void ConfigureServices(IServiceCollection services)
{
...
services.AddAccessTokenManagement(o =&gt;
{
...
    o.Client.Clients.Add(&quot;finastra_login_service&quot;, new ClientCredentialsTokenRequest
    {
        Address = finastraConfiguration.Oauth2Configuration.TokenEndpoint,
        ClientId = finastraConfiguration.Oauth2Configuration.B2B.ClientId,
        ClientSecret = finastraConfiguration.Oauth2Configuration.B2B.ClientSecret
    });
...
}
...
}
</code></pre>
<p cla");
            WriteLiteral(@"ss=""has-line-data"" data-line-start=""35"" data-line-end=""36""><code>TokenEndpoint</code>, <code>ClientId</code>, and <code>ClientSecret</code> are retrieved from configuration - <code>FinastraConfiguration</code>.</p>
<hr>
<h5 class=""code-line"" data-line-start=38 data-line-end=39><a id=""Important_configuration_items_38""></a>Important configuration items</h5>
<ul>
	<li class=""has-line-data"" data-line-start=""40"" data-line-end=""41""><code>TokenEndpoint</code>:  Provided by the <a href=""https://developer.fusionfabric.cloud/documentation/oauth2-grants#discovery-service"">Discovery service</a>.</li>
	<li class=""has-line-data"" data-line-start=""41"" data-line-end=""43""><code>ClientId</code> and <code>ClientSecret</code>: See <a href=""https://developer.fusionfabric.cloud/documentation/creator-apps#appdetails"">application details</a>.</li>
</ul>
<hr>
<h4 class=""code-line"" data-line-start=44 data-line-end=45><a id=""Highlights_44""></a>Highlights</h4>
<ul>
	<li class=""has-line-data"" data-line-start=""46"" data-line-end=""47"">Token ");
            WriteLiteral(@"retrieval is transparent for API user. Delegating <code>ClientAccessTokenHandler</code> handler attached via <code>.AddClientAccessTokenHandler();</code> contacts Authority Token endpoint, authenticates using <code>clientId</code>, <code>ClientSecret</code>, retrieves and provides access token.</li>
	<li class=""has-line-data"" data-line-start=""47"" data-line-end=""48"">Access token retrieved by <code>ClientAccessTokenHandler</code> is saved in token cache with handling of token expiration and renewal.</li>
	<li class=""has-line-data"" data-line-start=""48"" data-line-end=""49"">Frameworks to add additional features like resilience and transient-fault-handling, such as <a href=""https://github.com/App-vNext/Polly"">Polly</a>, can be attached in the configuration section and will not require any change in other parts of code.</li>
</ul>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
